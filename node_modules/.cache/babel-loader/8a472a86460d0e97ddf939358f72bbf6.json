{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bastien\\\\Desktop\\\\social-moving-demo\\\\src\\\\VideoChat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState, useEffect } from 'react';\nimport Lobby from './Lobby';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst VideoChat = () => {\n  _s();\n\n  const [username, setUserName] = useState('');\n  const [roomname, setRoomName] = useState('');\n  const [token, setToken] = useState(true);\n  const handleUsernameChange = useCallback(event => {\n    setUserName(event.target.value);\n  }, []);\n  const handleRoomNameChange = useCallback(event => {\n    setRoomName(event.target.value);\n  }, []);\n  const handleSubmit = useCallback(async event => {\n    event.preventDefault();\n    const data = await fetch('/video/token', {\n      method: 'POST',\n      body: JSON.stringify({\n        identity: username,\n        room: roomname\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json());\n    setToken(data.token);\n  }, [username, roomname]);\n  const handleLogout = useCallback(event => {\n    setToken(null);\n  }, []);\n  let render;\n\n  if (token) {\n    render = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Username: \", username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Room name: \", roomname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Token: \", token]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  } else {\n    render = /*#__PURE__*/_jsxDEV(Lobby, {\n      username: username,\n      roomname: roomname,\n      handleUsernameChange: handleUsernameChange,\n      handleRoomNameChange: handleRoomNameChange,\n      handleSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  }\n\n  return render;\n};\n\n_s(VideoChat, \"tXIexJk15MPLxPv6W6xjkiehW9U=\");\n\n_c = VideoChat;\nexport default VideoChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"VideoChat\");","map":{"version":3,"sources":["C:/Users/Bastien/Desktop/social-moving-demo/src/VideoChat.js"],"names":["React","useCallback","useState","useEffect","Lobby","VideoChat","username","setUserName","roomname","setRoomName","token","setToken","handleUsernameChange","event","target","value","handleRoomNameChange","handleSubmit","preventDefault","data","fetch","method","body","JSON","stringify","identity","room","headers","then","res","json","handleLogout","render"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAsD,OAAtD;AACA,OAAOC,KAAP,MAAkB,SAAlB;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAEpB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AAGA,QAAMU,oBAAoB,GAAGX,WAAW,CAAEY,KAAK,IAAI;AAC/CN,IAAAA,WAAW,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACH,GAFuC,EAErC,EAFqC,CAAxC;AAIA,QAAMC,oBAAoB,GAAGf,WAAW,CAAEY,KAAK,IAAI;AAC/CJ,IAAAA,WAAW,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACH,GAFuC,EAErC,EAFqC,CAAxC;AAIA,QAAME,YAAY,GAAGhB,WAAW,CAAC,MAAMY,KAAN,IAAe;AAC5CA,IAAAA,KAAK,CAACK,cAAN;AACA,UAAMC,IAAI,GAAG,MAAMC,KAAK,CAAC,cAAD,EAAiB;AACrCC,MAAAA,MAAM,EAAE,MAD6B;AAErCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,QAAAA,QAAQ,EAAEnB,QADO;AAEjBoB,QAAAA,IAAI,EAAElB;AAFW,OAAf,CAF+B;AAMrCmB,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAN4B,KAAjB,CAAL,CAShBC,IATgB,CASXC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EATI,CAAnB;AAUAnB,IAAAA,QAAQ,CAACQ,IAAI,CAACT,KAAN,CAAR;AACH,GAb+B,EAa7B,CAACJ,QAAD,EAAWE,QAAX,CAb6B,CAAhC;AAeA,QAAMuB,YAAY,GAAG9B,WAAW,CAACY,KAAK,IAAI;AACtCF,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,GAF+B,EAE7B,EAF6B,CAAhC;AAIA,MAAIqB,MAAJ;;AACA,MAAItB,KAAJ,EAAW;AACPsB,IAAAA,MAAM,gBACF;AAAA,8BACI;AAAA,iCAAc1B,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,kCAAeE,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA,8BAAWE,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAQH,GATD,MASO;AACHsB,IAAAA,MAAM,gBACF,QAAC,KAAD;AACI,MAAA,QAAQ,EAAI1B,QADhB;AAEI,MAAA,QAAQ,EAAIE,QAFhB;AAGI,MAAA,oBAAoB,EAAEI,oBAH1B;AAII,MAAA,oBAAoB,EAAEI,oBAJ1B;AAKI,MAAA,YAAY,EAAEC;AALlB;AAAA;AAAA;AAAA;AAAA,YADJ;AASH;;AAED,SAAOe,MAAP;AACH,CAzDD;;GAAM3B,S;;KAAAA,S;AA2DN,eAAeA,SAAf","sourcesContent":["import React, {useCallback, useState, useEffect} from 'react';\r\nimport Lobby from './Lobby'\r\n\r\nconst VideoChat = () => {\r\n\r\n    const [username, setUserName] = useState('')\r\n    const [roomname, setRoomName] = useState('');\r\n    const [token, setToken] = useState(true);\r\n\r\n\r\n    const handleUsernameChange = useCallback( event => {\r\n        setUserName(event.target.value);\r\n    }, []);\r\n\r\n    const handleRoomNameChange = useCallback (event => {\r\n        setRoomName(event.target.value);\r\n    }, []);\r\n\r\n    const handleSubmit = useCallback(async event => {\r\n        event.preventDefault();\r\n        const data = await fetch('/video/token', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                identity: username,\r\n                room: roomname,\r\n            }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(res => res.json());\r\n        setToken(data.token);\r\n    }, [username, roomname]);\r\n    \r\n    const handleLogout = useCallback(event => {\r\n        setToken(null);\r\n    }, []);\r\n\r\n    let render;\r\n    if (token) {\r\n        render = (\r\n            <div>\r\n                <p>Username: {username}</p>\r\n                <p>Room name: {roomname}</p>\r\n                <p>Token: {token}</p>\r\n\r\n            </div>\r\n        );\r\n    } else {\r\n        render = (\r\n            <Lobby\r\n                username = {username}\r\n                roomname = {roomname}\r\n                handleUsernameChange={handleUsernameChange}\r\n                handleRoomNameChange={handleRoomNameChange}\r\n                handleSubmit={handleSubmit}\r\n            />\r\n        );\r\n    }\r\n\r\n    return render;\r\n};\r\n\r\nexport default VideoChat;"]},"metadata":{},"sourceType":"module"}